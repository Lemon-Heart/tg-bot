const sendPost = require('./sendPost')

let timers = {}
const startTimer = (ctx, currentPost = 'btn_0', variant = 'default') => {
    let chatId = ctx?.message?.from?.id ? ctx.message.from.id : ctx.update.callback_query.from.id
    clearTimer(chatId)
    timers[chatId] = setTimeout(() => {
        switch (variant) {
            case 'default':
                sendPost.sendTextWithButtonAfterPhoto(ctx, 'âœ…Ð˜Ð»Ð¸ Ð³Ð¾Ñ‚Ð¾Ð² Ð²ÑÐµ Ð¸ÑÐ¿Ñ€Ð°Ð²Ð¸Ñ‚ÑŒ Ð¸ Ð¿Ñ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒ?\nÐ’Ð¿ÐµÑ€ÐµÐ´Ð¸ Ñ‚ÐµÐ±Ñ Ð¶Ð´ÐµÑ‚ 6 Ð½ÐµÐ±Ð¾Ð»ÑŒÑˆÐ¸Ñ… Ð²Ð¸Ð´ÐµÐ¾, Ð² ÐºÐ¾Ñ‚Ð¾Ñ€Ñ‹Ñ… Ñ ÑÐ¾Ð±Ñ€Ð°Ð»Ð° Ñ†ÐµÐ»Ð¾Ðµ Ð¼Ð¾Ñ€Ðµ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð³Ð¾ Ð¼Ð°Ñ‚ÐµÑ€Ð¸Ð°Ð»Ð°. Ð¢Ñ‹ Ð¼Ð¾Ð¶ÐµÑˆÑŒ Ð¿Ñ€Ð¸Ð¼ÐµÐ½Ð¸Ñ‚ÑŒ ÐµÐ³Ð¾ Ð¸ ÑƒÐ¶Ðµ ÑÐµÐ¹Ñ‡Ð°Ñ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð·Ð°Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð½Ð° Ñ‚Ð²Ð¾Ñ€Ñ‡ÐµÑÑ‚Ð²Ðµ! Ð Ñ‚Ð°ÐºÐ¶Ðµ Ð¿Ð¾Ð´Ð°Ñ€ÐºÐ¸ Ð¸ Ð±Ð¾Ð½ÑƒÑÑ‹â€¦\nâ—ï¸Ð¢ÐÐšÐžÐ“Ðž Ð¢Ð« ÐÐ• ÐÐÐ™Ð”Ð•Ð¨Ð¬ Ð‘ÐžÐ›Ð¬Ð¨Ð• ÐÐ˜Ð“Ð”Ð•â—ï¸\n\nÐ’ÑÐµ, Ñ‡Ñ‚Ð¾ Ñ‚ÐµÐ±Ñ Ð¾Ñ‚Ð´ÐµÐ»ÑÐµÑ‚ Ð¾Ñ‚ Ð·Ð°Ð²ÐµÑ‚Ð½Ð¾Ð¹ Ð¼ÐµÑ‡Ñ‚Ñ‹ - ÑÑ‚Ð¾ Ð½Ð°Ð¶Ð°Ñ‚Ð¸Ðµ Ð½Ð° ÐºÐ½Ð¾Ð¿ÐºÑƒ Ð½Ð¸Ð¶Ðµ. ÐÐ°Ð¿Ð¾Ð¼Ð¸Ð½Ð°ÑŽ, Ñ‡Ñ‚Ð¾ Ð½Ð° Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð²ÑÐµÑ… Ð´Ð¾Ð¼Ð°ÑˆÐ½Ð¸Ñ… Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹ Ñƒ Ñ‚ÐµÐ±Ñ Ð¾ÑÑ‚Ð°Ð»Ð¾ÑÑŒ Ð¼ÐµÐ½ÑŒÑˆÐµ, Ñ‡ÐµÐ¼ 24 Ñ‡Ð°ÑÐ°.\n\nÐ¡ÐºÐ¾Ñ€ÐµÐµ Ð¶Ð¼Ð¸ðŸ‘‡ðŸ»', [['Ð˜Ð·Ð²Ð¸Ð½Ð¸, Ñ Ð¾Ñ‚Ð²Ð»ÐµÐºÑÑ. ÐŸÑ€Ð¾Ð´Ð¾Ð»Ð¶Ð¸Ñ‚ÑŒðŸ¤—', currentPost]], 1, './img/inactive.JPG', 'Ð­Ð¹, Ð¼Ñ‹ Ñ‚Ð°Ðº Ð½Ðµ Ð´Ð¾Ð³Ð¾Ð²Ð°Ñ€Ð¸Ð²Ð°Ð»Ð¸ÑÑŒðŸ™…ðŸ»â€â™€ï¸\n\nÐ¯ Ð¿Ð¾Ð´Ð³Ð¾Ñ‚Ð¾Ð²Ð¸Ð»Ð° Ð´Ð»Ñ Ñ‚ÐµÐ±Ñ ÑÑ‚Ð¾Ð»ÑŒÐºÐ¾ Ð¿Ð¾Ð»ÐµÐ·Ð½Ð¾Ð³Ð¾ Ð¸ Ð¸Ð½Ñ‚ÐµÑ€ÐµÑÐ½Ð¾Ð³Ð¾, Ð° Ñ‚Ñ‹ Ð³Ð¾Ñ‚Ð¾Ð² Ð²Ð¾Ñ‚ Ñ‚Ð°Ðº Ð¿Ñ€Ð¾ÑÑ‚Ð¾ Ð²Ð·ÑÑ‚ÑŒ Ð¸ Ð½Ðµ Ð²Ð·ÑÑ‚ÑŒ Ð²ÑÐµ Ñ‚Ð¾, Ñ‡Ñ‚Ð¾ Ñ Ñ‚Ð°Ðº Ð´Ð¾Ð»Ð³Ð¾ ÑÐ¾Ð·Ð´Ð°Ð²Ð°Ð»Ð° Ð¸ Ð·Ð°Ð¿Ð¸ÑÑ‹Ð²Ð°Ð»Ð°?????\n\nÐ“Ð¾Ñ‚Ð¾Ð² ÑƒÐ¿ÑƒÑÑ‚Ð¸Ñ‚ÑŒ ÑˆÐ°Ð½Ñ Ð½Ð°ÑƒÑ‡Ð¸Ñ‚ÑŒÑÑ Ñ€Ð¸ÑÐ¾Ð²Ð°Ñ‚ÑŒ ÐºÑ€ÑƒÑ‚Ñ‹Ðµ Ð¿Ð¾Ñ€Ñ‚Ñ€ÐµÑ‚Ñ‹â“\nÐ“Ð¾Ñ‚Ð¾Ð² Ð¾Ñ‚ÐºÐ°Ð·Ð°Ñ‚ÑŒÑÑ Ð¾Ñ‚ Ð±ÐµÑÐ¿Ð»Ð°Ñ‚Ð½Ñ‹Ñ… Ð¿Ð¾Ð´Ð°Ñ€ÐºÐ¾Ð²â“\nÐ“Ð¾Ñ‚Ð¾Ð² Ð¿Ð¾Ñ‚ÐµÑ€ÑÑ‚ÑŒ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ Ð½Ð°Ñ‡Ð°Ñ‚ÑŒ Ð·Ð°Ñ€Ð°Ð±Ð°Ñ‚Ñ‹Ð²Ð°Ñ‚ÑŒ Ð½Ð° Ð»ÑŽÐ±Ð¸Ð¼Ð¾Ð¼ Ð´ÐµÐ»Ðµâ“')
                break
            case 'beforefinal':
                sendPost.sendTextWithButtonAfterPhoto(ctx, 'Ð Ñ‚Ð°ÐºÐ¶Ðµ Ð¾Ð¿ÑƒÐ±Ð»Ð¸ÐºÐ¾Ð²Ð°Ñ‚ÑŒ ÑÐ²Ð¾ÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ Ð² Ð°Ð»ÑŒÐ±Ð¾Ð¼Ðµ Ð¿Ð¾ ÑÑÑ‹Ð»ÐºÐµ Ð¿Ð¾Ð´ ÑÑ‚Ð¸Ð¼ Ð¿Ð¾ÑÑ‚Ð¾Ð¼ðŸ‘‡ðŸ»\n\nÐ¯ Ð»Ð¸Ñ‡Ð½Ð¾ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÑÑŽ ÐºÐ°Ð¶Ð´ÑƒÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ. Ð˜ Ð´Ð°ÑŽ ÑÐ²Ð¾ÑŽ Ð¾Ð±Ñ€Ð°Ñ‚Ð½ÑƒÑŽ ÑÐ²ÑÐ·ÑŒðŸ¤—\nÐŸÐ¾ÑÐ»Ðµ Ñ‚Ð¾Ð³Ð¾, ÐºÐ°Ðº Ð¼Ð½Ð¾Ð¹ Ð±ÑƒÐ´ÐµÑ‚ Ð¿Ñ€Ð¾Ð²ÐµÑ€ÐµÐ½Ð¾ Ð²Ñ‹Ð¿Ð¾Ð»Ð½ÐµÐ½Ð¸Ðµ Ð’Ð¡Ð•Ð¥ Ð·Ð°Ð´Ð°Ð½Ð¸Ð¹, Ñ‚ÐµÐ±Ðµ Ð±ÑƒÐ´ÐµÑ‚ Ð½Ð°Ñ‡Ð¸ÑÐ»ÐµÐ½Ð¾ ÐµÑ‰Ñ‘ 1500 Ð‘Ð  Ð¸ Ð¿Ñ€Ð¸Ð´Ñ‘Ñ‚ Ð¸Ð½ÑÑ‚Ñ€ÑƒÐºÑ†Ð¸Ñ ÐºÐ°Ðº Ñ‚Ñ‹ ÑÐ¼Ð¾Ð¶ÐµÑˆÑŒ Ð¸Ð¼Ð¸ Ð²Ð¾ÑÐ¿Ð¾Ð»ÑŒÐ·Ð¾Ð²Ð°Ñ‚ÑŒÑÑðŸ‘‡ðŸ»', [['ÐŸÐ¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ Ñ€Ð°Ð±Ð¾Ñ‚Ð¾Ð¹', 'https://vk.com/album-170738408_256211336']], 1, './img/inactive.JPG', 'Ð­Ð™, Ð½Ñƒ Ñ‚Ñ‹ Ñ‡ÐµÐ³Ð¾?\nÐ’ÐµÐ´ÑŒ Ñ‚Ñ‹ ÑƒÐ¶Ðµ Ð½Ð° Ñ„Ð¸Ð½Ð¸ÑˆÐ½Ð¾Ð¹ Ð¿Ñ€ÑÐ¼Ð¾Ð¹ ðŸ\nÐ¯ Ð¶Ð´Ñƒ Ñ‚Ð²Ð¾ÑŽ Ñ€Ð°Ð±Ð¾Ñ‚Ñƒ, Ð° Ñ‚ÐµÐ±Ñ Ð¶Ð´ÐµÑ‚ ÐµÑ‰Ñ‘ Ð¾Ð´Ð¸Ð½ Ð¿Ð¾Ð´Ð°Ñ€Ð¾Ðº ðŸŽ\n\nÐÐµ ÑƒÐ¿ÑƒÑÐºÐ°Ð¹ Ð²Ð¾Ð·Ð¼Ð¾Ð¶Ð½Ð¾ÑÑ‚ÑŒ, ÐºÐ¾Ñ‚Ð¾Ñ€Ð¾Ð¹ Ð±Ð¾Ð»ÑŒÑˆÐµ Ð½Ð¸ÐºÐ¾Ð³Ð´Ð° Ð¸ Ð½Ð¸Ð³Ð´Ðµ Ð½Ðµ Ð±ÑƒÐ´ÐµÑ‚!!!\n\nÐ’ÑÑ‘, Ñ‡Ñ‚Ð¾ Ñ‚ÐµÐ±Ðµ Ð¾ÑÑ‚Ð°Ð»Ð¾ÑÑŒ ÑÐ´ÐµÐ»Ð°Ñ‚ÑŒ - Ð¿Ð¾Ð´ÐµÐ»Ð¸Ñ‚ÑŒÑÑ ÑÐ²Ð¾ÐµÐ¹ Ñ€Ð°Ð±Ð¾Ñ‚Ð¾Ð¹ Ð² ÑÑ‚Ð¾Ð¼ Ñ‡Ð°Ñ‚Ðµ Ð¸ Ð½Ð°Ð¿Ð¸ÑÐ°Ñ‚ÑŒ Â«Ð—ÐÐ”ÐÐÐ˜Ð• Ð’Ð«ÐŸÐžÐ›ÐÐ•ÐÐžÂ»')
                break
        }
    }, 1000*60*30)
}
const clearTimer = (chatId) => { clearTimeout(timers[chatId]) }

module.exports.timers = timers
module.exports.startTimer = startTimer
module.exports.clearTimer = clearTimer